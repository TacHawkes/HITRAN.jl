<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Calculating spectra · HITRAN.jl</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">HITRAN.jl</span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Introduction &amp; Motivation</a></li><li><a class="tocitem" href="../quickstart/">Quickstart/Example</a></li><li><a class="tocitem" href="../database/">Local HITRAN database</a></li><li class="is-active"><a class="tocitem" href>Calculating spectra</a><ul class="internal"><li><a class="tocitem" href="#The-absorption-coefficient"><span>The absorption coefficient</span></a></li><li><a class="tocitem" href="#Environments"><span>Environments</span></a></li><li><a class="tocitem" href="#Convenience-functions"><span>Convenience functions</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Calculating spectra</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Calculating spectra</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/tachawkes/hitran.jl/blob/master/docs/src/spectra.md#L" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Functions-for-absorption-spectrum-calculcation"><a class="docs-heading-anchor" href="#Functions-for-absorption-spectrum-calculcation">Functions for absorption spectrum calculcation</a><a id="Functions-for-absorption-spectrum-calculcation-1"></a><a class="docs-heading-anchor-permalink" href="#Functions-for-absorption-spectrum-calculcation" title="Permalink"></a></h1><p>The most important function of the module is the <a href="#HITRAN.α"><code>α</code></a> function. Before using i, you have to initialise a database and use the <a href="../database/#HITRAN.fetch!"><code>fetch!</code></a> function to retrieve line-by-line data.</p><h2 id="The-absorption-coefficient"><a class="docs-heading-anchor" href="#The-absorption-coefficient">The absorption coefficient</a><a id="The-absorption-coefficient-1"></a><a class="docs-heading-anchor-permalink" href="#The-absorption-coefficient" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="HITRAN.α" href="#HITRAN.α"><code>HITRAN.α</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">α(tables::AbstractVector{String} [, profile=:hartmann_tran; kwargs...])</code></pre><p>Computes the absorption coefficient using line-by-line data stored in the database tables specified in <code>tables</code>. The lineshape can be optionally specified using the <code>profile</code> argument and one of the Symbol keys <code>:hartmann_tran</code>, <code>:voigt</code>, <code>:sdvoigt</code>, <code>:lorentz</code>, <code>:gauss</code>. If no keyword arguments are specified, they will be automatically chosen from the tables provided.</p><p><strong>Keyword arguments</strong></p><ul><li><code>components</code>: the components of the gas mixture for the calculation. Can be either a vector of tuples with <code>(molecule_id, local_iso_id)</code>               or a <code>Dict</code> with the <code>(molecule_id, local_iso_id)</code> tuple as key and the abundance as value. If the vector of tuples is supplied               the natural abundance will be used, so this makes no sense for gas mixtures other than isotopologues of the same molecule.                </li><li><code>intensity_threshold</code>: the minimum line strength in <span>$cm^{-1}/(\text{molecule} \cdot cm^{-2})$</span></li><li><code>pressure</code>: the environmental pressure in atmospheres (default: 1.0 atm)</li><li><code>temperature</code>: the environmental temperature in Kelvin (default: 296.0 K)</li><li><code>ν_range</code>: a tuple of the form (ν<em>min, ν</em>max) where ν<em>min/ν</em>max is the minimum/maximum wavenumber for the absorption_spectrum respectively in <span>$cm^{-1}$</span></li><li><code>ν_step</code>: the wavenumber step in <span>$cm^{-1}$</span> (default: 0.01 <span>$cm^{-1}$</span>)</li><li><code>ν_wing</code>: absolute calculation width of a line in <span>$cm^{-1}$</span> (default: 0 <span>$cm^{-1}$</span>)</li><li><code>ν_wing_hw</code>: relative calculation width of a line in multiples of a half-width (default: 50)</li><li><code>diluent</code>: a <code>Dict</code> of the diluting substances, specified as <code>Symbol</code>, e.g. <code>:air</code> or <code>:H2O</code> for the key and the relative concentration as key (default: <code>Dict(:self =&gt; 1.0)</code>). See the example for details.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tachawkes/hitran.jl/blob/5ca8ad46e3fabb959551e0334257e194609722b5/src/profiles.jl#LL180-L201">source</a></section></article><h2 id="Environments"><a class="docs-heading-anchor" href="#Environments">Environments</a><a id="Environments-1"></a><a class="docs-heading-anchor-permalink" href="#Environments" title="Permalink"></a></h2><p>There are two default environments defined at the moment, which ease the calculation of atmospheric spectra.</p><h3 id="Dry-air"><a class="docs-heading-anchor" href="#Dry-air">Dry air</a><a id="Dry-air-1"></a><a class="docs-heading-anchor-permalink" href="#Dry-air" title="Permalink"></a></h3><p>The first environment is dry air which can be accessed using <code>default_environments[:dry_air]</code>. The following composition is used <sup class="footnote-reference"><a id="citeref-Picard2008" href="#footnote-Picard2008">[Picard2008]</a></sup>:</p><table><tr><th style="text-align: left">Gas</th><th style="text-align: right">Volume (ppmv)</th></tr><tr><td style="text-align: left"><span>$N_2$</span></td><td style="text-align: right">780,848</td></tr><tr><td style="text-align: left"><span>$O_2$</span></td><td style="text-align: right">209,390</td></tr><tr><td style="text-align: left"><span>$Ar$</span></td><td style="text-align: right">9,332</td></tr><tr><td style="text-align: left"><span>$CO_2$</span></td><td style="text-align: right">400</td></tr><tr><td style="text-align: left"><span>$Ne$</span></td><td style="text-align: right">18.2</td></tr><tr><td style="text-align: left"><span>$CH_4$</span></td><td style="text-align: right">1.5</td></tr><tr><td style="text-align: left"><span>$Kr$</span></td><td style="text-align: right">1.1</td></tr><tr><td style="text-align: left"><span>$H_2$</span></td><td style="text-align: right">0.5</td></tr><tr><td style="text-align: left"><span>$N_2O$</span></td><td style="text-align: right">0.3</td></tr><tr><td style="text-align: left"><span>$CO$</span></td><td style="text-align: right">0.2</td></tr><tr><td style="text-align: left"><span>$Xe$</span></td><td style="text-align: right">0.1</td></tr></table><h3 id="Moist-air"><a class="docs-heading-anchor" href="#Moist-air">Moist air</a><a id="Moist-air-1"></a><a class="docs-heading-anchor-permalink" href="#Moist-air" title="Permalink"></a></h3><p>The second environment model is moist air which takes the relative humidity into the account. You can use the function <code>moist_air</code> to get a  composition dictionary with the correct water concentration.</p><h2 id="Convenience-functions"><a class="docs-heading-anchor" href="#Convenience-functions">Convenience functions</a><a id="Convenience-functions-1"></a><a class="docs-heading-anchor-permalink" href="#Convenience-functions" title="Permalink"></a></h2><p>The following three functions are provided as a convenience to convert the absorption coefficient to either an absorption spectrum, transmittance spectrum or an optical depth.</p><article class="docstring"><header><a class="docstring-binding" id="HITRAN.absorption_spectrum-Tuple{AbstractArray{T,1} where T,Any}" href="#HITRAN.absorption_spectrum-Tuple{AbstractArray{T,1} where T,Any}"><code>HITRAN.absorption_spectrum</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">absorption_spectrum(α::AbstractVector, len)</code></pre><p>Computes the absorption spectrum for the given length <code>len</code> in centimeters. The vector <code>α</code> should be calculated using the corresponding <a href="#HITRAN.α"><code>α</code></a> function.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tachawkes/hitran.jl/blob/5ca8ad46e3fabb959551e0334257e194609722b5/src/spectra.jl#LL1-L6">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="HITRAN.transmittance_spectrum-Tuple{AbstractArray{T,1} where T,Any}" href="#HITRAN.transmittance_spectrum-Tuple{AbstractArray{T,1} where T,Any}"><code>HITRAN.transmittance_spectrum</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">transmittance_spectrum(α::AbstractVector, len)</code></pre><p>Computes the transmittance spectrum for the given length <code>len</code> in centimeters. The vector <code>α</code> should be calculated using the corresponding <a href="#HITRAN.α"><code>α</code></a> function.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tachawkes/hitran.jl/blob/5ca8ad46e3fabb959551e0334257e194609722b5/src/spectra.jl#LL9-L14">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="HITRAN.optical_depth-Tuple{AbstractArray{T,1} where T,Any}" href="#HITRAN.optical_depth-Tuple{AbstractArray{T,1} where T,Any}"><code>HITRAN.optical_depth</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">optical_depth(α::AbstractVector, len)</code></pre><p>Computes the optical depth for the given length <code>len</code> in centimeters. The vector <code>α</code> should be calculated using the corresponding <a href="#HITRAN.α"><code>α</code></a> function.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tachawkes/hitran.jl/blob/5ca8ad46e3fabb959551e0334257e194609722b5/src/spectra.jl#LL17-L22">source</a></section></article><pre><code class="language-none"></code></pre><section class="footnotes is-size-7"><ul><li class="footnote" id="footnote-Picard2008"><a class="tag is-link" href="#citeref-Picard2008">Picard2008</a>A., Picard, R.S., Davis, M., Gläser and K., Fujii (2008), Revised formula for the density of moist air (CIPM-2007), Metrologia 45, 149–155 (2008). <a href="doi:10.1088/0026-1394/45/2/004">Link to article</a></li></ul></section></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../database/">« Local HITRAN database</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Saturday 27 February 2021 14:00">Saturday 27 February 2021</span>. Using Julia version 1.5.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
